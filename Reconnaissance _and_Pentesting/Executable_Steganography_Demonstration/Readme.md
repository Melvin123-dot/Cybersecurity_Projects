📌 Overview

This project demonstrates how attackers can disguise a malicious payload inside what appears to be a harmless image viewer application.
The application:

Opens a decoy image (hacker.jpg) so it looks safe.

Simultaneously runs a reverse shell in the background, connecting to a remote attacker machine (Kali Linux).

Is bundled as a standalone Windows executable (fire_image.exe) using PyInstaller with a custom icon.

⚠️ Disclaimer
This project was built strictly for educational purposes in a controlled lab environment. It must never be deployed or distributed outside of this context. The aim is to understand attacker techniques and, more importantly, how to defend against them.

🛠️ Tools & Technologies

Python 3.12

Pillow (PIL) – image handling

PyInstaller – packaging Python scripts into executables

Virtual Machines – Kali Linux (attacker), Windows 11 (victim)

Netcat (nc) – listener for reverse shell

🚀 Features

✅ Opens an image (hacker.jpg) to trick the user into thinking it’s safe

✅ Establishes a reverse shell connection silently in the background

✅ Works as a standalone .exe (no Python needed on victim machine)

✅ Custom icon support (.ico from .jpg)

✅ Bundles resources inside the executable

📝 Steps Performed
1️⃣ Initial Reverse Shell Script

We started with a Python reverse shell, which:

Connects back to a remote IP (Kali box).

Executes Windows-equivalent commands translated from Linux commands.

2️⃣ Making It Look Harmless

We added:

from PIL import Image
import threading


to show an image while running the reverse shell in parallel threads.

3️⃣ Packaging with PyInstaller

We installed PyInstaller:

python -m pip install pyinstaller


And compiled the script:

python -m PyInstaller --onefile --windowed --icon=hacker.ico fire_image.py


Output:

dist/fire_image.exe

4️⃣ Converting JPG to ICO

Windows .exe files require .ico for icons.
We converted hacker.jpg → hacker.ico using Pillow:

from PIL import Image
img = Image.open("hacker.jpg")
img.save("hacker.ico", format="ICO", sizes=[(256,256)])

5️⃣ Bundling the Image Inside the EXE

To ensure hacker.jpg always displays, we used --add-data:

python -m PyInstaller --onefile --windowed --icon=hacker.ico --add-data "hacker.jpg;." fire_image.py


We also added a resource_path() helper in code so PyInstaller could find hacker.jpg when running from the extracted temp directory.

🔒 Defensive Lessons

File Masquerading: Just because a file has an image icon doesn’t mean it’s safe.

Endpoint Protection: Use AV/EDR to detect suspicious behavior (e.g., reverse shell traffic).

User Awareness: Always enable “show file extensions” in Windows to avoid double-extension tricks.

Network Monitoring: Detect reverse shell traffic with IDS/IPS.

📂 Repository Structure
fire_image.py       # Main Python script (reverse shell + image display)
hacker.jpg          # Decoy image
hacker.ico          # Converted icon
README.md           # This documentation
dist/fire_image.exe # Final compiled executable (not included in repo)

⚠️ Disclaimer

This project is for educational use only in a lab environment.
Do not use, share, or deploy this outside of controlled conditions.
The purpose is to understand how attackers operate so we can build better defenses.

✍️ Author: Melvin Kwame Awuku
